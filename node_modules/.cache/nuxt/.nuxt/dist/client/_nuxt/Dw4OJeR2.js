import{a as E,_ as N}from"./CK8g22TK.js";import{e as T,f as $,c as m,a as t,F as j,r as O,u as a,b as P,w as C,l as w,m as B,o as x,g as H,t as p,q as G,h as u,v as b,i as I}from"./D2ZHngAM.js";import{u as R}from"./CjkzigEY.js";import{u as F}from"./BL_WCkA3.js";import{u as z}from"./JI6JSYyE.js";const W=()=>{const{fetchWithAuth:r}=R();return{getPrograms:async()=>r("/program"),getProgram:async o=>r(`/program/${o}`),createProgram:async o=>r("/program",{method:"POST",body:o}),updateProgram:async(o,f)=>r(`/program/${o}`,{method:"PATCH",body:f}),deleteProgram:async o=>r(`/program/${o}`,{method:"DELETE"})}},q={class:"space-y-12"},J={class:"bg-white dark:bg-slate-900 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden"},K={class:"w-full text-left border-collapse"},Q={class:"divide-y divide-slate-100 dark:divide-slate-800"},X={class:"px-8 py-6"},Y={class:"flex items-center gap-4"},Z={class:"w-12 h-12 rounded-xl bg-slate-100 dark:bg-slate-800 overflow-hidden"},tt=["src"],et={class:"font-black text-slate-900 dark:text-white"},st={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},at={class:"px-8 py-6"},lt={class:"px-8 py-6"},ot={class:"text-sm font-bold text-slate-600"},nt={class:"px-8 py-6 text-right"},rt={class:"flex items-center justify-end gap-2"},it=["onClick"],dt=["onClick"],ct={class:"space-y-8"},pt={class:"grid md:grid-cols-2 gap-8"},ut={class:"space-y-6"},gt={class:"grid grid-cols-2 gap-4"},mt=["disabled"],vt=T({__name:"programs",async setup(r){let d,k;const{getPrograms:v,createProgram:y,updateProgram:h,deleteProgram:o}=W(),{data:f,refresh:_}=([d,k]=$(()=>F("admin-programs",()=>v())),d=await d,k(),d),i=w(!1),c=w(null),l=B({title:"",description:"",type:"upcoming",date:"",imageUrl:"",registerLink:""}),g=w(!1),A=()=>{c.value=null,Object.assign(l,{title:"",description:"",type:"upcoming",date:"",imageUrl:"",registerLink:""}),i.value=!0},U=n=>{c.value=n._id,Object.assign(l,{...n,date:n.date?new Date(n.date).toISOString().split("T")[0]:""}),i.value=!0},V=async()=>{g.value=!0;try{c.value?await h(c.value,l):await y(l),await _(),i.value=!1}finally{g.value=!1}},L=async n=>{confirm("Are you sure you want to delete this program?")&&(await o(n),await _())};return z({title:"Programs Management | PANAFSTRAG"}),(n,e)=>{const M=N,D=E;return x(),m("div",q,[t("div",{class:"flex items-center justify-between"},[e[8]||(e[8]=t("div",null,[t("h1",{class:"text-4xl font-black mb-2 tracking-tight"},"Programs Management"),t("p",{class:"text-slate-500 font-bold"},"Manage seminar, policy dialogues and events")],-1)),t("button",{onClick:A,class:"px-8 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-xl shadow-indigo-100 dark:shadow-none hover:-translate-y-1 active:scale-95 transition-all"}," NEW PROGRAM ")]),t("div",J,[t("table",K,[e[11]||(e[11]=t("thead",null,[t("tr",{class:"bg-slate-50 dark:bg-slate-800/50"},[t("th",{class:"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400"},"Program"),t("th",{class:"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400"},"Type"),t("th",{class:"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400"},"Date"),t("th",{class:"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400 text-right"},"Actions")])],-1)),t("tbody",Q,[(x(!0),m(j,null,O(a(f),s=>(x(),m("tr",{key:s._id,class:"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors"},[t("td",X,[t("div",Y,[t("div",Z,[s.imageUrl?(x(),m("img",{key:0,src:s.imageUrl,class:"w-full h-full object-cover"},null,8,tt)):H("",!0)]),t("div",null,[t("p",et,p(s.title),1),t("p",st,p(s._id),1)])])]),t("td",at,[t("span",{class:G(["px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest",s.type==="upcoming"?"bg-green-50 text-green-600":"bg-slate-50 text-slate-400"])},p(s.type),3)]),t("td",lt,[t("p",ot,p(new Date(s.date).toLocaleDateString()),1)]),t("td",nt,[t("div",rt,[t("button",{onClick:S=>U(s),class:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg transition-all shadow-sm"},[...e[9]||(e[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,it),t("button",{onClick:S=>L(s._id),class:"p-2 hover:bg-red-50 text-red-400 rounded-lg transition-all shadow-sm"},[...e[10]||(e[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,dt)])])]))),128))])])]),P(D,{show:a(i),title:a(c)?"Edit Program":"New Program",onClose:e[7]||(e[7]=s=>i.value=!1)},{actions:C(()=>[t("button",{onClick:e[6]||(e[6]=s=>i.value=!1),class:"px-8 py-4 text-slate-500 font-black text-xs uppercase tracking-widest"},"CANCEL"),t("button",{onClick:V,disabled:a(g),class:"px-8 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-lg shadow-indigo-100 dark:shadow-none hover:-translate-y-1 active:scale-95 transition-all disabled:opacity-50"},p(a(g)?"SAVING...":"SAVE CHANGES"),9,mt)]),default:C(()=>[t("div",ct,[t("div",pt,[t("div",ut,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Title",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a(l).title=s),type:"text",class:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium"},null,512),[[b,a(l).title]])]),t("div",gt,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Type",-1)),u(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>a(l).type=s),class:"w-full px-4 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-xs font-black tracking-widest uppercase"},[...e[13]||(e[13]=[t("option",{value:"upcoming"},"Upcoming",-1),t("option",{value:"past"},"Past",-1)])],512),[[I,a(l).type]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Date",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a(l).date=s),type:"date",class:"w-full px-4 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-xs font-bold"},null,512),[[b,a(l).date]])])])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Cover Image",-1)),P(M,{modelValue:a(l).imageUrl,"onUpdate:modelValue":e[3]||(e[3]=s=>a(l).imageUrl=s),folder:"programs"},null,8,["modelValue"])])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Description",-1)),u(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>a(l).description=s),rows:"4",class:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium"},null,512),[[b,a(l).description]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Registration Link (Optional)",-1)),u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>a(l).registerLink=s),type:"url",placeholder:"https://...",class:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium"},null,512),[[b,a(l).registerLink]])])])]),_:1},8,["show","title"])])}}});export{vt as default};
