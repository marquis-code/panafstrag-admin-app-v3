import{_ as L,a as H}from"./CK8g22TK.js";import{e as P,f as F,o as n,c as r,a as e,F as h,r as y,g as I,t as b,u as l,b as D,w as V,h as f,v as _,i as G,j as O,k as K,d as z,l as k,m as W}from"./D2ZHngAM.js";import{u as q}from"./CjkzigEY.js";import{u as J}from"./BL_WCkA3.js";import{u as Q}from"./JI6JSYyE.js";const X=()=>{const{fetchWithAuth:u}=q();return{getBoardMembers:async()=>u("/board"),getBoardMember:async a=>u(`/board/${a}`),createBoardMember:async a=>u("/board",{method:"POST",body:a}),updateBoardMember:async(a,w)=>u(`/board/${a}`,{method:"PATCH",body:w}),deleteBoardMember:async a=>u(`/board/${a}`,{method:"DELETE"})}},Y={class:"space-y-12"},Z={class:"bg-white dark:bg-slate-900 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden"},ee={class:"w-full text-left border-collapse"},te={class:"divide-y divide-slate-100 dark:divide-slate-800"},se={class:"px-8 py-6"},oe={class:"flex items-center gap-4"},le={class:"w-12 h-12 rounded-xl bg-slate-100 dark:bg-slate-800 overflow-hidden"},ae=["src"],ne={class:"font-black text-slate-900 dark:text-white"},re={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},de={class:"px-8 py-6"},ie={class:"px-3 py-1 bg-indigo-50 dark:bg-indigo-950 text-indigo-600 rounded-full text-[10px] font-black uppercase tracking-widest"},ue={class:"px-8 py-6"},ce={class:"flex flex-wrap gap-2"},pe={class:"px-8 py-6 text-right"},be={class:"flex items-center justify-end gap-2"},ge=["onClick"],xe=["onClick"],me={class:"space-y-8"},fe={class:"grid md:grid-cols-2 gap-8"},ke={class:"space-y-6"},ve={class:"flex gap-2 mb-4"},we={class:"flex flex-wrap gap-2"},he=["onClick"],ye=["disabled"],De=P({__name:"board",async setup(u){let g,v;const{getBoardMembers:M,createBoardMember:B,updateBoardMember:C,deleteBoardMember:a}=X(),{data:w,refresh:A}=([g,v]=F(()=>J("admin-board",()=>M())),g=await g,v(),g),c=k(!1),x=k(null),o=W({name:"",role:"MEMBER",bio:"",imageUrl:"",duties:[]}),m=k(!1),p=k(""),U=()=>{x.value=null,Object.assign(o,{name:"",role:"MEMBER",bio:"",imageUrl:"",duties:[]}),c.value=!0},N=d=>{x.value=d._id,Object.assign(o,{...d}),c.value=!0},j=async()=>{m.value=!0;try{x.value?await C(x.value,o):await B(o),await A(),c.value=!1}finally{m.value=!1}},R=async d=>{confirm("Are you sure you want to delete this member?")&&(await a(d),await A())},E=()=>{p.value&&(o.duties.push(p.value),p.value="")},S=d=>{o.duties.splice(d,1)};return Q({title:"Board Management | PANAFSTRAG"}),(d,t)=>{const T=L,$=H;return n(),r("div",Y,[e("div",{class:"flex items-center justify-between"},[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-4xl font-black mb-2 tracking-tight"},"Board Management"),e("p",{class:"text-slate-500 font-bold"},"Manage board of trustees and members")],-1)),e("button",{onClick:U,class:"px-8 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-xl shadow-indigo-100 dark:shadow-none hover:-translate-y-1 active:scale-95 transition-all"}," ADD MEMBER ")]),e("div",Z,[e("table",ee,[t[10]||(t[10]=e("thead",null,[e("tr",{class:"bg-slate-50 dark:bg-slate-800/50"},[e("th",{class:"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400"},"Member"),e("th",{class:"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400"},"Role"),e("th",{class:"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400"},"Duties"),e("th",{class:"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400 text-right"},"Actions")])],-1)),e("tbody",te,[(n(!0),r(h,null,y(l(w),s=>(n(),r("tr",{key:s._id,class:"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors"},[e("td",se,[e("div",oe,[e("div",le,[s.imageUrl?(n(),r("img",{key:0,src:s.imageUrl,class:"w-full h-full object-cover"},null,8,ae)):I("",!0)]),e("div",null,[e("p",ne,b(s.name),1),e("p",re,b(s._id),1)])])]),e("td",de,[e("span",ie,b(s.role),1)]),e("td",ue,[e("div",ce,[(n(!0),r(h,null,y(s.duties,i=>(n(),r("span",{key:i,class:"px-2 py-0.5 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded text-[10px] font-bold"},b(i),1))),128))])]),e("td",pe,[e("div",be,[e("button",{onClick:i=>N(s),class:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg transition-all shadow-sm"},[...t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,ge),e("button",{onClick:i=>R(s._id),class:"p-2 hover:bg-red-50 text-red-400 rounded-lg transition-all shadow-sm"},[...t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,xe)])])]))),128))])])]),D($,{show:l(c),title:l(x)?"Edit Member":"Add New Member",onClose:t[6]||(t[6]=s=>c.value=!1)},{actions:V(()=>[e("button",{onClick:t[5]||(t[5]=s=>c.value=!1),class:"px-8 py-4 text-slate-500 font-black text-xs uppercase tracking-widest"},"CANCEL"),e("button",{onClick:j,disabled:l(m),class:"px-8 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-lg shadow-indigo-100 dark:shadow-none hover:-translate-y-1 active:scale-95 transition-all disabled:opacity-50"},b(l(m)?"SAVING...":"SAVE CHANGES"),9,ye)]),default:V(()=>[e("div",me,[e("div",fe,[e("div",ke,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Full Name",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l(o).name=s),type:"text",class:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium"},null,512),[[_,l(o).name]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Role",-1)),f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l(o).role=s),class:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium uppercase text-xs font-black tracking-widest"},[...t[12]||(t[12]=[e("option",{value:"MEMBER"},"Member",-1),e("option",{value:"TRUSTEE"},"Trustee",-1),e("option",{value:"ADMIN"},"Admin",-1)])],512),[[G,l(o).role]])])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Profile Photo",-1)),D(T,{modelValue:l(o).imageUrl,"onUpdate:modelValue":t[2]||(t[2]=s=>l(o).imageUrl=s),folder:"board"},null,8,["modelValue"])])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Biography",-1)),f(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>l(o).bio=s),rows:"4",class:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium"},null,512),[[_,l(o).bio]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"},"Duties",-1)),e("div",ve,[f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>K(p)?p.value=s:null),onKeyup:O(E,["enter"]),type:"text",placeholder:"Add a duty...",class:"flex-1 px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium text-sm"},null,544),[[_,l(p)]]),e("button",{onClick:E,class:"px-6 bg-indigo-600 text-white font-black rounded-2xl"},"ADD")]),e("div",we,[(n(!0),r(h,null,y(l(o).duties,(s,i)=>(n(),r("span",{key:i,class:"pl-4 pr-2 py-2 bg-slate-100 dark:bg-slate-800 rounded-xl text-xs font-bold flex items-center gap-2"},[z(b(s)+" ",1),e("button",{onClick:_e=>S(i),class:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg text-slate-400"},[...t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,he)]))),128))])])])]),_:1},8,["show","title"])])}}});export{De as default};
