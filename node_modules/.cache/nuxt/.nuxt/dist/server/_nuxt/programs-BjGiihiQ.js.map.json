{"file":"programs-BjGiihiQ.js","mappings":"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","names":["_withAsyncContext","_ssrRenderAttrs","_mergeProps","_ssrRenderList","_unref","_ssrInterpolate","_ssrRenderClass","_push","_parent","_createVNode","_ssrRenderAttr","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrLooseEqual","_vModelText","_vModelSelect"],"sources":["../../../../../../../app/composables/useProgram.ts","../../../../../../../app/pages/programs.vue"],"sourcesContent":["export const useProgram = () => {\n  const { fetchWithAuth } = useApi();\n\n  const getPrograms = async () => {\n    return fetchWithAuth('/program');\n  };\n\n  const getProgram = async (id: string) => {\n    return fetchWithAuth(`/program/${id}`);\n  };\n\n  const createProgram = async (data: any) => {\n    return fetchWithAuth('/program', {\n      method: 'POST',\n      body: data,\n    });\n  };\n\n  const updateProgram = async (id: string, data: any) => {\n    return fetchWithAuth(`/program/${id}`, {\n      method: 'PATCH',\n      body: data,\n    });\n  };\n\n  const deleteProgram = async (id: string) => {\n    return fetchWithAuth(`/program/${id}`, {\n      method: 'DELETE',\n    });\n  };\n\n  return {\n    getPrograms,\n    getProgram,\n    createProgram,\n    updateProgram,\n    deleteProgram,\n  };\n};\n","<script setup lang=\"ts\">\nconst { getPrograms, createProgram, updateProgram, deleteProgram } = useProgram()\nconst { data: programs, refresh } = await useAsyncData('admin-programs', () => getPrograms())\n\nconst showModal = ref(false)\nconst editingId = ref<string | null>(null)\nconst form = reactive({\n  title: '',\n  description: '',\n  type: 'upcoming',\n  date: '',\n  imageUrl: '',\n  registerLink: ''\n})\nconst loading = ref(false)\n\nconst openCreate = () => {\n  editingId.value = null\n  Object.assign(form, { title: '', description: '', type: 'upcoming', date: '', imageUrl: '', registerLink: '' })\n  showModal.value = true\n}\n\nconst openEdit = (program: any) => {\n  editingId.value = program._id\n  Object.assign(form, { ...program, date: program.date ? new Date(program.date).toISOString().split('T')[0] : '' })\n  showModal.value = true\n}\n\nconst handleSubmit = async () => {\n  loading.value = true\n  try {\n    if (editingId.value) {\n      await updateProgram(editingId.value, form)\n    } else {\n      await createProgram(form)\n    }\n    await refresh()\n    showModal.value = false\n  } finally {\n    loading.value = false\n  }\n}\n\nconst handleDelete = async (id: string) => {\n  if (confirm('Are you sure you want to delete this program?')) {\n    await deleteProgram(id)\n    await refresh()\n  }\n}\n\nuseHead({\n  title: 'Programs Management | PANAFSTRAG',\n})\n\ndefinePageMeta({\n  middleware: 'auth'\n})\n</script>\n\n<template>\n  <div class=\"space-y-12\">\n    <div class=\"flex items-center justify-between\">\n      <div>\n        <h1 class=\"text-4xl font-black mb-2 tracking-tight\">Programs Management</h1>\n        <p class=\"text-slate-500 font-bold\">Manage seminar, policy dialogues and events</p>\n      </div>\n      <button @click=\"openCreate\" class=\"px-8 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-xl shadow-indigo-100 dark:shadow-none hover:-translate-y-1 active:scale-95 transition-all\">\n        NEW PROGRAM\n      </button>\n    </div>\n\n    <!-- Table -->\n    <div class=\"bg-white dark:bg-slate-900 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden\">\n      <table class=\"w-full text-left border-collapse\">\n        <thead>\n          <tr class=\"bg-slate-50 dark:bg-slate-800/50\">\n            <th class=\"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400\">Program</th>\n            <th class=\"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400\">Type</th>\n            <th class=\"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400\">Date</th>\n            <th class=\"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400 text-right\">Actions</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y divide-slate-100 dark:divide-slate-800\">\n          <tr v-for=\"program in (programs as any[])\" :key=\"program._id\" class=\"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors\">\n            <td class=\"px-8 py-6\">\n               <div class=\"flex items-center gap-4\">\n                <div class=\"w-12 h-12 rounded-xl bg-slate-100 dark:bg-slate-800 overflow-hidden\">\n                  <img v-if=\"program.imageUrl\" :src=\"program.imageUrl\" class=\"w-full h-full object-cover\" />\n                </div>\n                <div>\n                  <p class=\"font-black text-slate-900 dark:text-white\">{{ program.title }}</p>\n                  <p class=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">{{ program._id }}</p>\n                </div>\n              </div>\n            </td>\n            <td class=\"px-8 py-6\">\n              <span class=\"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest\" :class=\"program.type === 'upcoming' ? 'bg-green-50 text-green-600' : 'bg-slate-50 text-slate-400'\">\n                {{ program.type }}\n              </span>\n            </td>\n            <td class=\"px-8 py-6\">\n              <p class=\"text-sm font-bold text-slate-600\">{{ new Date(program.date).toLocaleDateString() }}</p>\n            </td>\n            <td class=\"px-8 py-6 text-right\">\n              <div class=\"flex items-center justify-end gap-2\">\n                 <button @click=\"openEdit(program)\" class=\"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg transition-all shadow-sm\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 text-slate-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n                  </svg>\n                </button>\n                <button @click=\"handleDelete(program._id)\" class=\"p-2 hover:bg-red-50 text-red-400 rounded-lg transition-all shadow-sm\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Modal -->\n    <Modal :show=\"showModal\" :title=\"editingId ? 'Edit Program' : 'New Program'\" @close=\"showModal = false\">\n      <div class=\"space-y-8\">\n        <div class=\"grid md:grid-cols-2 gap-8\">\n          <div class=\"space-y-6\">\n            <div>\n              <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Title</label>\n              <input v-model=\"form.title\" type=\"text\" class=\"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium\" />\n            </div>\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Type</label>\n                <select v-model=\"form.type\" class=\"w-full px-4 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-xs font-black tracking-widest uppercase\">\n                  <option value=\"upcoming\">Upcoming</option>\n                  <option value=\"past\">Past</option>\n                </select>\n              </div>\n              <div>\n                <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Date</label>\n                <input v-model=\"form.date\" type=\"date\" class=\"w-full px-4 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-xs font-bold\" />\n              </div>\n            </div>\n          </div>\n          <div>\n            <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Cover Image</label>\n            <MediaUpload v-model=\"form.imageUrl\" folder=\"programs\" />\n          </div>\n        </div>\n\n        <div>\n          <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Description</label>\n          <textarea v-model=\"form.description\" rows=\"4\" class=\"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium\"></textarea>\n        </div>\n\n        <div>\n          <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Registration Link (Optional)</label>\n          <input v-model=\"form.registerLink\" type=\"url\" placeholder=\"https://...\" class=\"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium\" />\n        </div>\n      </div>\n\n      <template #actions>\n        <button @click=\"showModal = false\" class=\"px-8 py-4 text-slate-500 font-black text-xs uppercase tracking-widest\">CANCEL</button>\n        <button @click=\"handleSubmit\" :disabled=\"loading\" class=\"px-8 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-lg shadow-indigo-100 dark:shadow-none hover:-translate-y-1 active:scale-95 transition-all disabled:opacity-50\">\n          {{ loading ? 'SAVING...' : 'SAVE CHANGES' }}\n        </button>\n      </template>\n    </Modal>\n  </div>\n</template>\n"],"version":3}