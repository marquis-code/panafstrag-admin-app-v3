{"version":3,"file":"board-qKbxCUWr.js","sources":["../../../../../../../app/composables/useBoard.ts","../../../../../../../app/pages/board.vue"],"sourcesContent":["export const useBoard = () => {\n  const { fetchWithAuth } = useApi();\n\n  const getBoardMembers = async () => {\n    return fetchWithAuth('/board');\n  };\n\n  const getBoardMember = async (id: string) => {\n    return fetchWithAuth(`/board/${id}`);\n  };\n\n  const createBoardMember = async (data: any) => {\n    return fetchWithAuth('/board', {\n      method: 'POST',\n      body: data,\n    });\n  };\n\n  const updateBoardMember = async (id: string, data: any) => {\n    return fetchWithAuth(`/board/${id}`, {\n      method: 'PATCH',\n      body: data,\n    });\n  };\n\n  const deleteBoardMember = async (id: string) => {\n    return fetchWithAuth(`/board/${id}`, {\n      method: 'DELETE',\n    });\n  };\n\n  return {\n    getBoardMembers,\n    getBoardMember,\n    createBoardMember,\n    updateBoardMember,\n    deleteBoardMember,\n  };\n};\n","<script setup lang=\"ts\">\nconst { getBoardMembers, createBoardMember, updateBoardMember, deleteBoardMember } = useBoard()\nconst { data: members, refresh } = await useAsyncData('admin-board', () => getBoardMembers())\n\nconst showModal = ref(false)\nconst editingId = ref<string | null>(null)\nconst form = reactive({\n  name: '',\n  role: 'MEMBER',\n  bio: '',\n  imageUrl: '',\n  duties: [] as string[]\n})\nconst loading = ref(false)\nconst dutyInput = ref('')\n\nconst openCreate = () => {\n  editingId.value = null\n  Object.assign(form, { name: '', role: 'MEMBER', bio: '', imageUrl: '', duties: [] })\n  showModal.value = true\n}\n\nconst openEdit = (member: any) => {\n  editingId.value = member._id\n  Object.assign(form, { ...member })\n  showModal.value = true\n}\n\nconst handleSubmit = async () => {\n  loading.value = true\n  try {\n    if (editingId.value) {\n      await updateBoardMember(editingId.value, form)\n    } else {\n      await createBoardMember(form)\n    }\n    await refresh()\n    showModal.value = false\n  } finally {\n    loading.value = false\n  }\n}\n\nconst handleDelete = async (id: string) => {\n  if (confirm('Are you sure you want to delete this member?')) {\n    await deleteBoardMember(id)\n    await refresh()\n  }\n}\n\nconst addDuty = () => {\n  if (dutyInput.value) {\n    form.duties.push(dutyInput.value)\n    dutyInput.value = ''\n  }\n}\n\nconst removeDuty = (index: number) => {\n  form.duties.splice(index, 1)\n}\n\nuseHead({\n  title: 'Board Management | PANAFSTRAG',\n})\n\ndefinePageMeta({\n  middleware: 'auth'\n})\n</script>\n\n<template>\n  <div class=\"space-y-12\">\n    <div class=\"flex items-center justify-between\">\n      <div>\n        <h1 class=\"text-4xl font-black mb-2 tracking-tight\">Board Management</h1>\n        <p class=\"text-slate-500 font-bold\">Manage board of trustees and members</p>\n      </div>\n      <button @click=\"openCreate\" class=\"px-8 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-xl shadow-indigo-100 dark:shadow-none hover:-translate-y-1 active:scale-95 transition-all\">\n        ADD MEMBER\n      </button>\n    </div>\n\n    <!-- Table -->\n    <div class=\"bg-white dark:bg-slate-900 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden\">\n      <table class=\"w-full text-left border-collapse\">\n        <thead>\n          <tr class=\"bg-slate-50 dark:bg-slate-800/50\">\n            <th class=\"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400\">Member</th>\n            <th class=\"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400\">Role</th>\n            <th class=\"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400\">Duties</th>\n            <th class=\"px-8 py-6 text-xs font-black uppercase tracking-widest text-slate-400 text-right\">Actions</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y divide-slate-100 dark:divide-slate-800\">\n          <tr v-for=\"member in (members as any[])\" :key=\"member._id\" class=\"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors\">\n            <td class=\"px-8 py-6\">\n              <div class=\"flex items-center gap-4\">\n                <div class=\"w-12 h-12 rounded-xl bg-slate-100 dark:bg-slate-800 overflow-hidden\">\n                  <img v-if=\"member.imageUrl\" :src=\"member.imageUrl\" class=\"w-full h-full object-cover\" />\n                </div>\n                <div>\n                  <p class=\"font-black text-slate-900 dark:text-white\">{{ member.name }}</p>\n                  <p class=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">{{ member._id }}</p>\n                </div>\n              </div>\n            </td>\n            <td class=\"px-8 py-6\">\n              <span class=\"px-3 py-1 bg-indigo-50 dark:bg-indigo-950 text-indigo-600 rounded-full text-[10px] font-black uppercase tracking-widest\">\n                {{ member.role }}\n              </span>\n            </td>\n            <td class=\"px-8 py-6\">\n              <div class=\"flex flex-wrap gap-2\">\n                <span v-for=\"duty in member.duties\" :key=\"duty\" class=\"px-2 py-0.5 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded text-[10px] font-bold\">\n                  {{ duty }}\n                </span>\n              </div>\n            </td>\n            <td class=\"px-8 py-6 text-right\">\n              <div class=\"flex items-center justify-end gap-2\">\n                <button @click=\"openEdit(member)\" class=\"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg transition-all shadow-sm\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 text-slate-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n                  </svg>\n                </button>\n                <button @click=\"handleDelete(member._id)\" class=\"p-2 hover:bg-red-50 text-red-400 rounded-lg transition-all shadow-sm\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Edit/Create Modal -->\n    <Modal :show=\"showModal\" :title=\"editingId ? 'Edit Member' : 'Add New Member'\" @close=\"showModal = false\">\n      <div class=\"space-y-8\">\n        <div class=\"grid md:grid-cols-2 gap-8\">\n          <div class=\"space-y-6\">\n            <div>\n              <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Full Name</label>\n              <input v-model=\"form.name\" type=\"text\" class=\"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium\" />\n            </div>\n            <div>\n              <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Role</label>\n              <select v-model=\"form.role\" class=\"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium uppercase text-xs font-black tracking-widest\">\n                <option value=\"MEMBER\">Member</option>\n                <option value=\"TRUSTEE\">Trustee</option>\n                <option value=\"ADMIN\">Admin</option>\n              </select>\n            </div>\n          </div>\n          <div>\n            <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Profile Photo</label>\n            <MediaUpload v-model=\"form.imageUrl\" folder=\"board\" />\n          </div>\n        </div>\n\n        <div>\n          <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Biography</label>\n          <textarea v-model=\"form.bio\" rows=\"4\" class=\"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium\"></textarea>\n        </div>\n\n        <div>\n          <label class=\"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1\">Duties</label>\n          <div class=\"flex gap-2 mb-4\">\n            <input v-model=\"dutyInput\" @keyup.enter=\"addDuty\" type=\"text\" placeholder=\"Add a duty...\" class=\"flex-1 px-6 py-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl focus:ring-2 focus:ring-indigo-600 outline-none transition-all font-medium text-sm\" />\n            <button @click=\"addDuty\" class=\"px-6 bg-indigo-600 text-white font-black rounded-2xl\">ADD</button>\n          </div>\n          <div class=\"flex flex-wrap gap-2\">\n            <span v-for=\"(duty, index) in form.duties\" :key=\"index\" class=\"pl-4 pr-2 py-2 bg-slate-100 dark:bg-slate-800 rounded-xl text-xs font-bold flex items-center gap-2\">\n              {{ duty }}\n              <button @click=\"removeDuty(index)\" class=\"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg text-slate-400\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <template #actions>\n        <button @click=\"showModal = false\" class=\"px-8 py-4 text-slate-500 font-black text-xs uppercase tracking-widest\">CANCEL</button>\n        <button @click=\"handleSubmit\" :disabled=\"loading\" class=\"px-8 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-lg shadow-indigo-100 dark:shadow-none hover:-translate-y-1 active:scale-95 transition-all disabled:opacity-50\">\n          {{ loading ? 'SAVING...' : 'SAVE CHANGES' }}\n        </button>\n      </template>\n    </Modal>\n  </div>\n</template>\n"],"names":["_withAsyncContext","_ssrRenderAttrs","_mergeProps","_ssrRenderList","_unref","_ssrInterpolate","_push","_parent","_createVNode","_ssrRenderAttr","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrLooseEqual","_vModelText","_vModelSelect","_openBlock","_createBlock","_Fragment","_createTextVNode","_toDisplayString"],"mappings":"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"}