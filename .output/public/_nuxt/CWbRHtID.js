import{_ as v}from"./RXczatYC.js";import{_}from"./C_TI_8IO.js";import{r as m,d as T,a as R,b,c as x,e,x as f,i as p,A,j as u,v as g,f as c,t as y,g as N,y as h,z as I,q as E}from"./C9Jv3MLw.js";import{a as P}from"./DstDsiET.js";import{u as U}from"./Ce3KchrF.js";import"./D7do-Z31.js";import"./Bf6SRPjp.js";const V=()=>{const n=m(!1),a=m(null),{showToast:o}=U();return{loading:n,error:a,register:async s=>{n.value=!0,a.value=null;try{const r=await P.register(s);return[200,201].includes(r?.status)?(o({title:"Success",message:"Account created successfully",toastType:"success",duration:3e3}),r.data):r}catch(r){a.value=r?.message||"Registration failed",o({title:"Error",message:r?.message||"Registration failed",toastType:"error",duration:3e3})}finally{n.value=!1}}}},L={class:"max-w-md mx-auto py-20"},S={class:"bg-white border border-gray-100 p-10 shadow-2xl"},G={class:"text-center mb-10"},O={key:0,class:"p-4 border border-black text-black text-[10px] font-black uppercase tracking-widest text-center"},q=["disabled"],C={class:"mt-12 text-center"},D={class:"text-gray-400 text-[9px] font-black uppercase tracking-widest"},z=T({__name:"register",setup(n){const{register:a,loading:o,error:d}=V(),s=I({name:"",email:"",password:""}),r=async()=>{try{const i=await a(s);(i?._id||i?.email)&&E("/login")}catch{}};return R({title:"Register | PANAFSTRAG"}),(i,t)=>{const k=v,w=_;return b(),x("div",L,[e("div",S,[e("div",G,[f(k,{class:"justify-center mb-6"}),t[3]||(t[3]=e("h1",{class:"text-3xl font-black tracking-tighter uppercase italic"},[p("Institutional "),e("span",{class:"not-italic text-gray-400"},"Registry.")],-1)),t[4]||(t[4]=e("p",{class:"text-gray-400 text-[10px] font-black uppercase tracking-[0.2em] mt-3"},"New Personnel Entry Protocol",-1))]),e("form",{onSubmit:A(r,["prevent"]),class:"space-y-8"},[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"},"Legal Designation (Name)",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.name=l),type:"text",required:"",placeholder:"JOHN DOE",class:"w-full px-0 py-4 bg-transparent border-b border-gray-100 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest placeholder:text-gray-200"},null,512),[[g,s.name]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"},"Master Identity (Email)",-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.email=l),type:"email",required:"",placeholder:"AUTHORITY@PANAFSTRAG.ORG",class:"w-full px-0 py-4 bg-transparent border-b border-gray-100 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest placeholder:text-gray-200"},null,512),[[g,s.email]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"},"Access Protocol (Password)",-1)),u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s.password=l),type:"password",required:"",placeholder:"••••••••",class:"w-full px-0 py-4 bg-transparent border-b border-gray-100 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest placeholder:text-gray-200"},null,512),[[g,s.password]])]),c(d)?(b(),x("div",O,y(c(d)),1)):N("",!0),e("button",{type:"submit",disabled:c(o),class:"w-full py-6 bg-black text-white font-black text-[10px] tracking-[0.3em] uppercase hover:bg-gray-800 active:scale-95 transition-all shadow-xl shadow-black/10 disabled:opacity-30"},y(c(o)?"INITIALIZING...":"AUTHORIZE REGISTRY"),9,q)],32),e("div",C,[e("p",D,[t[9]||(t[9]=p(" Existing institutional record? ",-1)),f(w,{to:"/login",class:"text-black underline underline-offset-4 hover:tracking-widest transition-all"},{default:h(()=>[...t[8]||(t[8]=[p("Login Protocol",-1)])]),_:1})])])])])}}});export{z as default};
