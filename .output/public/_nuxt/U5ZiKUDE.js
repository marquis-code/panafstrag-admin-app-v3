import{_ as H}from"./B9IReJDs.js";import{_ as F,a as G}from"./DwcYks7o.js";import{_ as P}from"./COf6pR3A.js";import{_ as W}from"./CHhF4iQB.js";import{e as Y,r,f as Z,u as z,o as d,c as u,a as e,d as q,g as E,b as f,F as J,h as K,w as I,i as w,v as _,t as m,k as Q}from"./BNeZIUNh.js";import{G as y,u as N}from"./B6vGYgdm.js";import"./DfxwkhoI.js";const C={getCells:()=>y.get("/cell"),getCell:s=>y.get(`/cell/${s}`),createCell:s=>y.post("/cell",s),updateCell:(s,o)=>y.patch(`/cell/${s}`,o),deleteCell:s=>y.delete(`/cell/${s}`)},X=()=>{const s=r(!1),o=r([]),c=r(null),i=async()=>{s.value=!0,c.value=null;try{const l=await C.getCells();return[200,201].includes(l?.status)&&(o.value=l.data?.data??l.data??[]),l}catch(l){c.value=l?.message||"Failed to fetch cells"}finally{s.value=!1}};return Y(i),{loading:s,cells:o,error:c,fetchCells:i}},ee=()=>{const s=r(!1),{showToast:o}=N();return{loading:s,createCell:async i=>{s.value=!0;try{const l=await C.createCell(i);return[200,201].includes(l?.status)&&o({title:"Success",message:"Cell created successfully",toastType:"success",duration:3e3}),l}catch(l){o({title:"Error",message:l?.message||"Failed to create cell",toastType:"error",duration:3e3})}finally{s.value=!1}}}},te=()=>{const s=r(!1),{showToast:o}=N();return{loading:s,updateCell:async(i,l)=>{s.value=!0;try{const p=await C.updateCell(i,l);return[200,201].includes(p?.status)&&o({title:"Success",message:"Cell updated successfully",toastType:"success",duration:3e3}),p}catch(p){o({title:"Error",message:p?.message||"Failed to update cell",toastType:"error",duration:3e3})}finally{s.value=!1}}}},se=()=>{const s=r(!1),{showToast:o}=N();return{loading:s,deleteCell:async i=>{s.value=!0;try{const l=await C.deleteCell(i);return[200,201].includes(l?.status)&&o({title:"Success",message:"Cell deleted successfully",toastType:"success",duration:3e3}),l}catch(l){o({title:"Error",message:l?.message||"Failed to delete cell",toastType:"error",duration:3e3})}finally{s.value=!1}}}},ae={class:"space-y-12"},le={key:0,class:"py-24 flex justify-center"},oe={key:1},ne={key:2,class:"bg-white border border-gray-100 shadow-sm overflow-hidden"},re={class:"overflow-x-auto"},ie={class:"w-full text-left border-collapse min-w-[800px]"},ce={class:"divide-y divide-gray-100"},de={class:"px-8 py-6"},ue={class:"flex items-center gap-4"},pe={class:"w-12 h-12 bg-gray-100 overflow-hidden border border-gray-100 grayscale hover:grayscale-0 transition-all duration-500"},ge=["src"],be={key:1,class:"w-full h-full flex items-center justify-center text-[10px] font-black text-gray-300 uppercase"},xe={class:"font-black text-black uppercase tracking-tight group-hover:text-black transition-colors"},fe={class:"px-8 py-6"},me={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest group-hover:text-black transition-colors"},ye={class:"px-8 py-6"},ve={class:"flex items-center gap-3 group"},ke={class:"w-8 h-8 bg-black text-white flex items-center justify-center text-[9px] font-black uppercase tracking-tighter shadow-lg shadow-black/10"},he={class:"text-[10px] font-black uppercase tracking-widest text-gray-400 group-hover:text-black transition-colors italic"},we={class:"px-8 py-6 text-right"},_e={class:"flex items-center justify-end gap-3"},Ce=["onClick"],Te=["onClick"],Ee={class:"space-y-12 py-4"},Ne={class:"space-y-6"},Ie={class:"grid md:grid-cols-2 gap-10"},Le={class:"space-y-6"},Ae={class:"space-y-6"},Ue={class:"space-y-6 pb-8"},Se=["disabled"],Be=Z({__name:"cells",setup(s){const{fetchCells:o,cells:c,loading:i}=X(),{createCell:l}=ee(),{updateCell:p}=te(),{deleteCell:L}=se(),g=r(!1),v=r(!1),k=r(null),T=r(!1),b=r(null),n=Q({name:"",location:"",description:"",leadName:"",imageUrl:""}),h=r(!1),A=()=>{b.value=null,Object.assign(n,{name:"",location:"",description:"",leadName:"",imageUrl:""}),g.value=!0},U=x=>{b.value=x._id,Object.assign(n,{...x}),g.value=!0},S=async()=>{h.value=!0;try{b.value?await p(b.value,n):await l(n),await o(),g.value=!1}finally{h.value=!1}},D=x=>{k.value=x,v.value=!0},M=async()=>{if(k.value){T.value=!0;try{await L(k.value),await o(),v.value=!1}finally{T.value=!1,k.value=null}}};return z({title:"Cells Management | PANAFSTRAG"}),(x,t)=>{const V=H,O=F,R=P,j=W,$=G;return d(),u("div",ae,[e("div",{class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},[t[8]||(t[8]=e("div",null,[e("p",{class:"text-[10px] font-black uppercase tracking-[0.4em] text-gray-400 mb-2"},"Network Infrastructure"),e("h1",{class:"text-4xl lg:text-6xl font-black tracking-tighter uppercase italic leading-none text-black"},[q(" Research "),e("span",{class:"not-italic text-gray-400 leading-none"},"Cells.")])],-1)),e("button",{onClick:A,class:"px-10 py-5 bg-black text-white font-black text-[10px] tracking-[0.3em] uppercase hover:bg-gray-800 active:scale-95 transition-all shadow-xl shadow-black/10"}," NEW CELL ")]),E(i)?(d(),u("div",le,[f(V)])):E(c)?.length?(d(),u("div",ne,[e("div",re,[e("table",ie,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"bg-gray-50 border-b border-gray-100"},[e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400"},"Hub Identity"),e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400"},"Geographic Location"),e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400"},"Command Lead"),e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400 text-right"},"Actions")])],-1)),e("tbody",ce,[(d(!0),u(J,null,K(E(c),a=>(d(),u("tr",{key:a._id,class:"hover:bg-gray-50/50 transition-colors group"},[e("td",de,[e("div",ue,[e("div",pe,[a.imageUrl?(d(),u("img",{key:0,src:a.imageUrl,class:"w-full h-full object-cover"},null,8,ge)):(d(),u("div",be," HUB "))]),e("p",xe,m(a.name),1)])]),e("td",fe,[e("span",me,m(a.location),1)]),e("td",ye,[e("div",ve,[e("div",ke,m(a.leadName?.charAt(0)),1),e("p",he,m(a.leadName),1)])]),e("td",we,[e("div",_e,[e("button",{onClick:B=>U(a),class:"p-2 hover:bg-black hover:text-white border border-transparent hover:border-black transition-all"},[...t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,Ce),e("button",{onClick:B=>D(a._id),class:"p-2 text-gray-300 hover:text-black hover:bg-white transition-all"},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Te)])])]))),128))])])])])):(d(),u("div",oe,[f(O,{title:"NO DATA",message:"The research network sector is currently unpopulated."})])),f(j,{show:g.value,title:b.value?"EDIT HUB SECTOR":"NEW SECTOR INITIALIZATION",onClose:t[6]||(t[6]=a=>g.value=!1)},{actions:I(()=>[e("button",{onClick:t[5]||(t[5]=a=>g.value=!1),class:"px-10 py-5 text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-black transition-colors"},"ABORT"),e("button",{onClick:S,disabled:h.value,class:"px-12 py-5 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-gray-800 disabled:opacity-30 transition-all"},m(h.value?"INITIALIZING...":"AUTHORIZE SECTOR"),9,Se)]),default:I(()=>[e("div",Ee,[e("section",Ne,[t[15]||(t[15]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Sector Identity",-1)),e("div",Ie,[e("div",Le,[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Cell Designation",-1)),w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.name=a),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest"},null,512),[[_,n.name]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Geographic Coordinates (Location)",-1)),w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.location=a),type:"text",placeholder:"CITY, COUNTRY",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest"},null,512),[[_,n.location]])])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-4"},"Hub Sector Visual",-1)),f(R,{modelValue:n.imageUrl,"onUpdate:modelValue":t[2]||(t[2]=a=>n.imageUrl=a),folder:"cells"},null,8,["modelValue"])])])]),e("section",Ae,[t[17]||(t[17]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-400 border-b border-gray-100 pb-2"},"Command Personnel",-1)),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Lead Researcher Designated Name",-1)),w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.leadName=a),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest"},null,512),[[_,n.leadName]])])]),e("section",Ue,[t[19]||(t[19]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Mission Parameters",-1)),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Sector Briefing & Description",-1)),w(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.description=a),rows:"4",class:"w-full p-4 bg-gray-50 border-none outline-none focus:ring-1 focus:ring-black transition-all font-medium text-sm leading-relaxed"},null,512),[[_,n.description]])])])])]),_:1},8,["show","title"]),f($,{show:v.value,title:"DELETE RESEARCH CELL",message:"Are you sure you want to dismantle this research hub? This operation is permanent.",loading:T.value,onClose:t[7]||(t[7]=a=>v.value=!1),onConfirm:M},null,8,["show","loading"])])}}});export{Be as default};
