import{_ as H}from"./BAPEXAyc.js";import{_ as B,a as G}from"./DeZD_aI0.js";import{_ as P}from"./m1zNDdpH.js";import{_ as W}from"./BUeb58OD.js";import{o as Y,r as n,d as Z,a as z,b as d,c as u,e,i as q,f as E,x,F as J,h as K,y as I,j as w,v as _,t as f,z as Q}from"./BkOmVWpN.js";import{G as y,u as N}from"./Bmbvx39S.js";import"./C_Yi8Lnb.js";import"./C1hZ1d1p.js";const X=""+new URL("program-placeholder.D9_WHFu0.png",import.meta.url).href,C={getCells:()=>y.get("/cell"),getCell:s=>y.get(`/cell/${s}`),createCell:s=>y.post("/cell",s),updateCell:(s,o)=>y.patch(`/cell/${s}`,o),deleteCell:s=>y.delete(`/cell/${s}`)},ee=()=>{const s=n(!1),o=n([]),c=n(null),i=async()=>{s.value=!0,c.value=null;try{const l=await C.getCells();return[200,201].includes(l?.status)&&(o.value=l.data?.data??l.data??[]),l}catch(l){c.value=l?.message||"Failed to fetch cells"}finally{s.value=!1}};return Y(i),{loading:s,cells:o,error:c,fetchCells:i}},te=()=>{const s=n(!1),{showToast:o}=N();return{loading:s,createCell:async i=>{s.value=!0;try{const l=await C.createCell(i);return[200,201].includes(l?.status)&&o({title:"Success",message:"Cell created successfully",toastType:"success",duration:3e3}),l}catch(l){o({title:"Error",message:l?.message||"Failed to create cell",toastType:"error",duration:3e3})}finally{s.value=!1}}}},se=()=>{const s=n(!1),{showToast:o}=N();return{loading:s,updateCell:async(i,l)=>{s.value=!0;try{const p=await C.updateCell(i,l);return[200,201].includes(p?.status)&&o({title:"Success",message:"Cell updated successfully",toastType:"success",duration:3e3}),p}catch(p){o({title:"Error",message:p?.message||"Failed to update cell",toastType:"error",duration:3e3})}finally{s.value=!1}}}},ae=()=>{const s=n(!1),{showToast:o}=N();return{loading:s,deleteCell:async i=>{s.value=!0;try{const l=await C.deleteCell(i);return[200,201].includes(l?.status)&&o({title:"Success",message:"Cell deleted successfully",toastType:"success",duration:3e3}),l}catch(l){o({title:"Error",message:l?.message||"Failed to delete cell",toastType:"error",duration:3e3})}finally{s.value=!1}}}},le={class:"space-y-12"},oe={key:0,class:"py-24 flex justify-center"},re={key:1},ne={key:2,class:"bg-white border border-gray-100 shadow-sm overflow-hidden"},ie={class:"overflow-x-auto"},ce={class:"w-full text-left border-collapse min-w-[800px]"},de={class:"divide-y divide-gray-100"},ue={class:"px-8 py-6"},pe={class:"flex items-center gap-4"},ge={class:"w-12 h-12 bg-gray-100 overflow-hidden border border-gray-100 grayscale hover:grayscale-0 transition-all duration-500 relative"},be=["src"],me={key:1,src:X,class:"absolute inset-0 w-full h-full object-cover opacity-60"},xe={class:"font-black text-black uppercase tracking-tight group-hover:text-black transition-colors"},fe={class:"px-8 py-6"},ye={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest group-hover:text-black transition-colors"},ve={class:"px-8 py-6"},ke={class:"flex items-center gap-3 group"},he={class:"w-8 h-8 bg-black text-white flex items-center justify-center text-[9px] font-black uppercase tracking-tighter shadow-lg shadow-black/10"},we={class:"text-[10px] font-black uppercase tracking-widest text-gray-400 group-hover:text-black transition-colors italic"},_e={class:"px-8 py-6 text-right"},Ce={class:"flex items-center justify-end gap-3"},Te=["onClick"],Ee=["onClick"],Ne={class:"space-y-12 py-4"},Ie={class:"space-y-6"},Le={class:"grid md:grid-cols-2 gap-10"},Ae={class:"space-y-6"},Ue={class:"space-y-6"},Se={class:"space-y-6 pb-8"},De=["disabled"],Be=Z({__name:"cells",setup(s){const{fetchCells:o,cells:c,loading:i}=ee(),{createCell:l}=te(),{updateCell:p}=se(),{deleteCell:L}=ae(),g=n(!1),v=n(!1),k=n(null),T=n(!1),b=n(null),r=Q({name:"",location:"",description:"",leadName:"",imageUrl:""}),h=n(!1),A=()=>{b.value=null,Object.assign(r,{name:"",location:"",description:"",leadName:"",imageUrl:""}),g.value=!0},U=m=>{b.value=m._id,Object.assign(r,{...m}),g.value=!0},S=async()=>{h.value=!0;try{b.value?await p(b.value,r):await l(r),await o(),g.value=!1}finally{h.value=!1}},D=m=>{k.value=m,v.value=!0},M=async()=>{if(k.value){T.value=!0;try{await L(k.value),await o(),v.value=!1}finally{T.value=!1,k.value=null}}};return z({title:"Cells Management | PANAFSTRAG"}),(m,t)=>{const R=H,V=B,j=P,O=W,$=G;return d(),u("div",le,[e("div",{class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},[t[8]||(t[8]=e("div",null,[e("p",{class:"text-[10px] font-black uppercase tracking-[0.4em] text-gray-400 mb-2"},"Network Infrastructure"),e("h1",{class:"text-4xl lg:text-6xl font-black tracking-tighter uppercase italic leading-none text-black"},[q(" Research "),e("span",{class:"not-italic text-gray-400 leading-none"},"Cells.")])],-1)),e("button",{onClick:A,class:"px-10 py-5 bg-black text-white font-black text-[10px] tracking-[0.3em] uppercase hover:bg-gray-800 active:scale-95 transition-all shadow-xl shadow-black/10"}," NEW CELL ")]),E(i)?(d(),u("div",oe,[x(R)])):E(c)?.length?(d(),u("div",ne,[e("div",ie,[e("table",ce,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"bg-gray-50 border-b border-gray-100"},[e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400"},"Hub Identity"),e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400"},"Geographic Location"),e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400"},"Command Lead"),e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400 text-right"},"Actions")])],-1)),e("tbody",de,[(d(!0),u(J,null,K(E(c),a=>(d(),u("tr",{key:a._id,class:"hover:bg-gray-50/50 transition-colors group"},[e("td",ue,[e("div",pe,[e("div",ge,[a.imageUrl?(d(),u("img",{key:0,src:a.imageUrl,class:"absolute inset-0 w-full h-full object-cover"},null,8,be)):(d(),u("img",me))]),e("p",xe,f(a.name),1)])]),e("td",fe,[e("span",ye,f(a.location),1)]),e("td",ve,[e("div",ke,[e("div",he,f(a.leadName?.charAt(0)),1),e("p",we,f(a.leadName),1)])]),e("td",_e,[e("div",Ce,[e("button",{onClick:F=>U(a),class:"p-2 hover:bg-black hover:text-white border border-transparent hover:border-black transition-all"},[...t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,Te),e("button",{onClick:F=>D(a._id),class:"p-2 text-gray-300 hover:text-black hover:bg-white transition-all"},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ee)])])]))),128))])])])])):(d(),u("div",re,[x(V,{title:"NO DATA",message:"The research network sector is currently unpopulated."})])),x(O,{show:g.value,title:b.value?"EDIT HUB SECTOR":"NEW SECTOR INITIALIZATION",onClose:t[6]||(t[6]=a=>g.value=!1)},{actions:I(()=>[e("button",{onClick:t[5]||(t[5]=a=>g.value=!1),class:"px-10 py-5 text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-black transition-colors"},"ABORT"),e("button",{onClick:S,disabled:h.value,class:"px-12 py-5 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-gray-800 disabled:opacity-30 transition-all"},f(h.value?"INITIALIZING...":"AUTHORIZE SECTOR"),9,De)]),default:I(()=>[e("div",Ne,[e("section",Ie,[t[15]||(t[15]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Sector Identity",-1)),e("div",Le,[e("div",Ae,[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Cell Designation",-1)),w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.name=a),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest"},null,512),[[_,r.name]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Geographic Coordinates (Location)",-1)),w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.location=a),type:"text",placeholder:"CITY, COUNTRY",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest"},null,512),[[_,r.location]])])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-4"},"Hub Sector Visual",-1)),x(j,{modelValue:r.imageUrl,"onUpdate:modelValue":t[2]||(t[2]=a=>r.imageUrl=a),folder:"cells"},null,8,["modelValue"])])])]),e("section",Ue,[t[17]||(t[17]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-400 border-b border-gray-100 pb-2"},"Command Personnel",-1)),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Lead Researcher Designated Name",-1)),w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>r.leadName=a),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest"},null,512),[[_,r.leadName]])])]),e("section",Se,[t[19]||(t[19]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Mission Parameters",-1)),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Sector Briefing & Description",-1)),w(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=a=>r.description=a),rows:"4",class:"w-full p-4 bg-gray-50 border-none outline-none focus:ring-1 focus:ring-black transition-all font-medium text-sm leading-relaxed"},null,512),[[_,r.description]])])])])]),_:1},8,["show","title"]),x($,{show:v.value,title:"DELETE RESEARCH CELL",message:"Are you sure you want to dismantle this research hub? This operation is permanent.",loading:T.value,onClose:t[7]||(t[7]=a=>v.value=!1),onConfirm:M},null,8,["show","loading"])])}}});export{Be as default};
