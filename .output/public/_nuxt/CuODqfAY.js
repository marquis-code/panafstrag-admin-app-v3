import{_ as V}from"./B9IReJDs.js";import{_ as j,a as B}from"./DwcYks7o.js";import{_ as G}from"./CHhF4iQB.js";import{e as P,r as n,f as H,u as W,o as u,c as d,a as e,d as Z,g as h,b as y,F as Y,h as q,w as _,i as F,v as E,t as w,k as z}from"./BNeZIUNh.js";import{G as b}from"./B6vGYgdm.js";import"./DfxwkhoI.js";const A={getFocusAreas(){return b.get("/focus-area")},getFocusAreaById(t){return b.get(`/focus-area/${t}`)},createFocusArea(t){return b.post("/focus-area",t)},updateFocusArea(t,l){return b.patch(`/focus-area/${t}`,l)},deleteFocusArea(t){return b.delete(`/focus-area/${t}`)}},J=()=>{const t=n(!1),l=n([]),r=async()=>{t.value=!0;try{const s=await A.getFocusAreas();l.value=s.data}catch(s){console.error("Error fetching focus areas:",s)}finally{t.value=!1}};return P(()=>{r()}),{loading:t,focusAreas:l,fetchFocusAreas:r}},K=()=>{const t=n(!1);return{creating:t,createFocusArea:async r=>{t.value=!0;try{return await A.createFocusArea(r)}catch(s){throw console.error("Error creating focus area:",s),s}finally{t.value=!1}}}},Q=()=>{const t=n(!1);return{updating:t,updateFocusArea:async(r,s)=>{t.value=!0;try{return await A.updateFocusArea(r,s)}catch(p){throw console.error("Error updating focus area:",p),p}finally{t.value=!1}}}},X=()=>{const t=n(!1);return{deleting:t,deleteFocusArea:async r=>{t.value=!0;try{return await A.deleteFocusArea(r)}catch(s){throw console.error("Error deleting focus area:",s),s}finally{t.value=!1}}}},ee={class:"space-y-12"},te={key:0,class:"py-24 flex justify-center"},ae={key:1},se={key:2,class:"grid gap-6"},oe={class:"space-y-4 max-w-4xl"},re={class:"text-2xl font-black uppercase tracking-tighter italic"},ne={class:"text-[10px] font-medium text-gray-500 line-clamp-2 uppercase tracking-tight italic"},le={class:"flex items-center gap-3"},ce=["onClick"],ie=["onClick"],ue={class:"space-y-12 py-4"},de={class:"space-y-6"},pe={class:"space-y-6 pb-8"},fe=["disabled"],Ae=H({__name:"focus-areas",setup(t){const{fetchFocusAreas:l,focusAreas:r,loading:s}=J(),{createFocusArea:p}=K(),{updateFocusArea:C}=Q(),{deleteFocusArea:I}=X(),i=n(!1),v=n(!1),m=n(null),k=n(!1),f=n(null),c=z({name:"",description:""}),x=n(!1),T=()=>{f.value=null,Object.assign(c,{name:"",description:""}),i.value=!0},N=g=>{f.value=g._id,Object.assign(c,{...g}),i.value=!0},D=async()=>{x.value=!0;try{f.value?await C(f.value,c):await p(c),await l(),i.value=!1}finally{x.value=!1}},M=g=>{m.value=g,v.value=!0},O=async()=>{if(m.value){k.value=!0;try{await I(m.value),await l(),v.value=!1}finally{k.value=!1,m.value=null}}};return W({title:"Focus Areas Management | PANAFSTRAG"}),(g,a)=>{const S=V,$=j,R=G,U=B;return u(),d("div",ee,[e("div",{class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},[a[5]||(a[5]=e("div",null,[e("p",{class:"text-[10px] font-black uppercase tracking-[0.4em] text-gray-400 mb-2"},"Research Priorities"),e("h1",{class:"text-4xl lg:text-6xl font-black tracking-tighter uppercase italic leading-none text-black"},[Z(" Focus "),e("span",{class:"not-italic text-gray-400 leading-none"},"Areas.")])],-1)),e("button",{onClick:T,class:"px-10 py-5 bg-black text-white font-black text-[10px] tracking-[0.3em] uppercase hover:bg-gray-800 active:scale-95 transition-all shadow-xl shadow-black/10"}," NEW FOCUS AREA ")]),h(s)?(u(),d("div",te,[y(S)])):h(r)?.length?(u(),d("div",se,[(u(!0),d(Y,null,q(h(r),o=>(u(),d("div",{key:o._id,class:"p-8 bg-white border border-gray-100 flex flex-col md:flex-row md:items-center justify-between gap-8 hover:border-black transition-all group"},[e("div",oe,[e("h3",re,w(o.name),1),e("p",ne,w(o.description||"Mission parameters pending definition..."),1)]),e("div",le,[e("button",{onClick:L=>N(o),class:"px-6 py-4 border border-transparent hover:border-black transition-all text-[10px] font-black uppercase tracking-widest bg-gray-50 hover:bg-black hover:text-white"}," EDIT ",8,ce),e("button",{onClick:L=>M(o._id),class:"p-4 text-gray-300 hover:text-red-600 transition-all"},[...a[6]||(a[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ie)])]))),128))])):(u(),d("div",ae,[y($,{title:"NO DATA",message:"No focus areas have been defined yet."})])),y(R,{show:i.value,title:f.value?"EDIT FOCUS AREA":"NEW FOCUS AREA INITIALIZATION",onClose:a[3]||(a[3]=o=>i.value=!1)},{actions:_(()=>[e("button",{onClick:a[2]||(a[2]=o=>i.value=!1),class:"px-10 py-5 text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-black transition-colors"},"ABORT"),e("button",{onClick:D,disabled:x.value,class:"px-12 py-5 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-gray-800 disabled:opacity-30 transition-all"},w(x.value?"SAVING...":"AUTHORIZE AREA"),9,fe)]),default:_(()=>[e("div",ue,[e("section",de,[a[8]||(a[8]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Area Identity",-1)),e("div",null,[a[7]||(a[7]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Area Designation",-1)),F(e("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>c.name=o),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm uppercase tracking-widest"},null,512),[[E,c.name]])])]),e("section",pe,[a[10]||(a[10]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Mission Parameters",-1)),e("div",null,[a[9]||(a[9]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Scope & Description",-1)),F(e("textarea",{"onUpdate:modelValue":a[1]||(a[1]=o=>c.description=o),rows:"4",class:"w-full p-4 bg-gray-50 border-none outline-none focus:ring-1 focus:ring-black transition-all font-medium text-sm leading-relaxed"},null,512),[[E,c.description]])])])])]),_:1},8,["show","title"]),y(U,{show:v.value,title:"DELETE FOCUS AREA",message:"Are you sure you want to remove this focus area from research priorities? This operation is permanent.",loading:k.value,onClose:a[4]||(a[4]=o=>v.value=!1),onConfirm:O},null,8,["show","loading"])])}}});export{Ae as default};
