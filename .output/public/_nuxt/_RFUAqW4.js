import{_ as Z}from"./C9iCbSzd.js";import{_ as q,a as Q}from"./Cbt17wsT.js";import{_ as X}from"./BqtYZGMm.js";import{_ as ee}from"./BRg3fQDk.js";import{o as te,r as n,d as se,a as ae,b as i,c as d,e,i as A,f as D,x as h,F as S,h as I,y as V,j as p,v as b,k as L,t as x,z as oe,g as le}from"./Df4s53kg.js";import{G as _,u as N}from"./BMy0hLc4.js";import"./BsOttllv.js";import"./CHTJDVlQ.js";const T={getMembers:()=>_.get("/board"),getMember:o=>_.get(`/board/${o}`),createMember:o=>_.post("/board",o),updateMember:(o,r)=>_.patch(`/board/${o}`,r),deleteMember:o=>_.delete(`/board/${o}`)},re=()=>{const o=n(!1),r=n([]),u=n(null),c=async()=>{o.value=!0,u.value=null;try{const l=await T.getMembers();return[200,201].includes(l?.status)&&(r.value=l.data?.data??l.data??[]),l}catch(l){u.value=l?.message||"Failed to fetch board members"}finally{o.value=!1}};return te(c),{loading:o,boardMembers:r,error:u,fetchBoard:c}},ne=()=>{const o=n(!1),{showToast:r}=N();return{loading:o,createMember:async c=>{o.value=!0;try{const l=await T.createMember(c);return[200,201].includes(l?.status)&&r({title:"Success",message:"Board member created successfully",toastType:"success",duration:3e3}),l}catch(l){r({title:"Error",message:l?.message||"Failed to create board member",toastType:"error",duration:3e3})}finally{o.value=!1}}}},ie=()=>{const o=n(!1),{showToast:r}=N();return{loading:o,updateMember:async(c,l)=>{o.value=!0;try{const y=await T.updateMember(c,l);return[200,201].includes(y?.status)&&r({title:"Success",message:"Board member updated successfully",toastType:"success",duration:3e3}),y}catch(y){r({title:"Error",message:y?.message||"Failed to update board member",toastType:"error",duration:3e3})}finally{o.value=!1}}}},de=()=>{const o=n(!1),{showToast:r}=N();return{loading:o,deleteMember:async c=>{o.value=!0;try{const l=await T.deleteMember(c);return[200,201].includes(l?.status)&&r({title:"Success",message:"Board member deleted successfully",toastType:"success",duration:3e3}),l}catch(l){r({title:"Error",message:l?.message||"Failed to delete board member",toastType:"error",duration:3e3})}finally{o.value=!1}}}},ce={class:"space-y-12"},ue={key:0,class:"py-24 flex justify-center"},pe={key:1},be={key:2,class:"bg-white border border-gray-100 shadow-sm overflow-hidden"},ge={class:"overflow-x-auto"},xe={class:"w-full text-left border-collapse min-w-[800px]"},me={class:"divide-y divide-gray-100"},fe={class:"px-8 py-6"},ye={class:"flex items-center gap-4"},ve={class:"w-12 h-12 bg-gray-100 overflow-hidden border border-gray-100 grayscale hover:grayscale-0 transition-all duration-500"},ke=["src"],we={key:1,class:"w-full h-full flex items-center justify-center text-xs font-black text-gray-300 uppercase"},he={class:"font-black text-black uppercase tracking-tight"},_e={key:0,class:"text-[9px] font-medium text-gray-400 lowercase tracking-tight"},Me={class:"px-8 py-6"},Ce={class:"px-3 py-1 border border-black text-black text-[9px] font-black uppercase tracking-widest group-hover:bg-black group-hover:text-white transition-colors"},Ee={class:"px-8 py-6"},Te={class:"text-[10px] font-black text-gray-400 uppercase italic line-clamp-1 group-hover:text-black transition-colors"},Be={class:"px-8 py-6 text-right"},Ae={class:"flex items-center justify-end gap-3"},De=["onClick"],Se=["onClick"],Ie={class:"space-y-12 py-4"},Ne={class:"space-y-6"},Ue={class:"grid md:grid-cols-2 gap-10"},Ve={class:"space-y-6"},Le={class:"space-y-6"},Pe={class:"grid md:grid-cols-3 gap-8"},Re={class:"space-y-6"},je={class:"flex gap-4 mb-6"},Fe={class:"flex flex-wrap gap-2"},$e=["onClick"],Oe={class:"space-y-6"},Ye={class:"grid md:grid-cols-2 gap-8"},Ge={class:"space-y-6 pb-8"},He={class:"flex gap-4 mb-6"},Je={class:"flex flex-wrap gap-2"},Ke=["onClick"],ze=["disabled"],at=se({__name:"board",setup(o){const{fetchBoard:r,boardMembers:u,loading:c}=re(),{createMember:l}=ne(),{updateMember:y}=ie(),{deleteMember:P}=de(),v=n(!1),M=n(!1),C=n(null),B=n(!1),k=n(null),a=oe({name:"",position:"Board member",email:[],university:"",department:"",faculty:"",bio:"",avatar:"",dateJoined:"",duties:[]}),E=n(!1),w=n(""),g=n(""),R=()=>{k.value=null,Object.assign(a,{name:"",position:"Board member",email:[],university:"",department:"",faculty:"",bio:"",avatar:"",dateJoined:"",duties:[]}),v.value=!0},j=m=>{k.value=m._id,Object.assign(a,{...m}),v.value=!0},F=async()=>{E.value=!0;try{k.value?await y(k.value,a):await l(a),await r(),v.value=!1}finally{E.value=!1}},$=m=>{C.value=m,M.value=!0},O=async()=>{if(C.value){B.value=!0;try{await P(C.value),await r(),M.value=!1}finally{B.value=!1,C.value=null}}},U=()=>{w.value&&(a.duties.push(w.value),w.value="")},Y=m=>{a.duties.splice(m,1)};return ae({title:"Board Management | PANAFSTRAG"}),(m,t)=>{const G=Z,H=q,J=X,K=ee,z=Q;return i(),d("div",ce,[e("div",{class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},[t[15]||(t[15]=e("div",null,[e("p",{class:"text-[10px] font-black uppercase tracking-[0.4em] text-gray-400 mb-2"},"Institutional Sector"),e("h1",{class:"text-4xl lg:text-6xl font-black tracking-tighter uppercase italic leading-none text-black"},[A(" Board "),e("span",{class:"not-italic text-gray-400 leading-none"},"Management.")])],-1)),e("button",{onClick:R,class:"px-10 py-5 bg-black text-white font-black text-[10px] tracking-[0.3em] uppercase hover:bg-gray-800 active:scale-95 transition-all shadow-xl shadow-black/10"}," ADD MEMBER ")]),D(c)?(i(),d("div",ue,[h(G)])):D(u)?.length?(i(),d("div",be,[e("div",ge,[e("table",xe,[t[18]||(t[18]=e("thead",null,[e("tr",{class:"bg-gray-50 border-b border-gray-100"},[e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400"},"Personnel"),e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400"},"Sector / Position"),e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400"},"Affiliation"),e("th",{class:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-gray-400 text-right"},"Actions")])],-1)),e("tbody",me,[(i(!0),d(S,null,I(D(u),s=>(i(),d("tr",{key:s._id,class:"hover:bg-gray-50/50 transition-colors group"},[e("td",fe,[e("div",ye,[e("div",ve,[s.avatar?(i(),d("img",{key:0,src:s.avatar,class:"w-full h-full object-cover"},null,8,ke)):(i(),d("div",we,x(s.name.charAt(0)),1))]),e("div",null,[e("p",he,x(s.name),1),s.email?.[0]?(i(),d("p",_e,x(s.email[0]),1)):le("",!0)])])]),e("td",Me,[e("span",Ce,x(s.position),1)]),e("td",Ee,[e("p",Te,x(s.university||"N/A"),1)]),e("td",Be,[e("div",Ae,[e("button",{onClick:f=>j(s),class:"p-2 hover:bg-black hover:text-white border border-transparent hover:border-black transition-all"},[...t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 uppercase",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,De),e("button",{onClick:f=>$(s._id),class:"p-2 text-gray-300 hover:text-black hover:bg-white transition-all"},[...t[17]||(t[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Se)])])]))),128))])])])])):(i(),d("div",pe,[h(H,{title:"NO DATA",message:"The board registration sector is currently empty."})])),h(K,{show:v.value,title:k.value?"EDIT PERSONNEL":"NEW REGISTRATION",onClose:t[13]||(t[13]=s=>v.value=!1)},{actions:V(()=>[e("button",{onClick:t[12]||(t[12]=s=>v.value=!1),class:"px-10 py-5 text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-black transition-colors"},"ABORT"),e("button",{onClick:F,disabled:E.value,class:"px-12 py-5 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-gray-800 disabled:opacity-30 transition-all"},x(E.value?"PROCESSING...":"AUTHORIZE CHANGES"),9,ze)]),default:V(()=>[e("div",Ie,[e("section",Ne,[t[22]||(t[22]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Primary Identity",-1)),e("div",Ue,[e("div",Ve,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Legal Full Name",-1)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.name=s),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm"},null,512),[[b,a.name]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Institutional Position",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>a.position=s),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm"},null,512),[[b,a.position]])])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-4"},"Identification Photo",-1)),h(J,{modelValue:a.avatar,"onUpdate:modelValue":t[2]||(t[2]=s=>a.avatar=s),folder:"board"},null,8,["modelValue"])])])]),e("section",Le,[t[26]||(t[26]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Academic & Institutional",-1)),e("div",Pe,[e("div",null,[t[23]||(t[23]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"University",-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.university=s),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm"},null,512),[[b,a.university]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Department",-1)),p(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.department=s),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm"},null,512),[[b,a.department]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Faculty",-1)),p(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>a.faculty=s),type:"text",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm"},null,512),[[b,a.faculty]])])])]),e("section",Re,[t[29]||(t[29]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Communication Hub",-1)),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-4"},"Registered Email Addresses",-1)),e("div",je,[p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>g.value=s),onKeyup:t[7]||(t[7]=L(()=>{g.value&&(a.email.push(g.value),g.value="")},["enter"])),type:"email",placeholder:"SECURE EMAIL...",class:"flex-1 px-4 py-3 bg-gray-50 border-none text-[10px] font-black tracking-widest uppercase outline-none focus:ring-1 focus:ring-black"},null,544),[[b,g.value]]),e("button",{onClick:t[8]||(t[8]=()=>{g.value&&(a.email.push(g.value),g.value="")}),class:"px-8 bg-black text-white text-[9px] font-black uppercase tracking-widest"},"ADD")]),e("div",Fe,[(i(!0),d(S,null,I(a.email,(s,f)=>(i(),d("span",{key:f,class:"pl-4 pr-1 py-1.5 bg-gray-50 border border-gray-100 rounded-sm text-[10px] font-black flex items-center gap-3"},[A(x(s.toUpperCase())+" ",1),e("button",{onClick:W=>a.email.splice(f,1),class:"p-1 hover:text-red-500 transition-colors"},[...t[27]||(t[27]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,$e)]))),128))])])]),e("section",Oe,[t[32]||(t[32]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Profile & Biography",-1)),e("div",Ye,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Record Date Joined",-1)),p(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>a.dateJoined=s),type:"text",placeholder:"YYYY-MM-DD",class:"w-full px-0 py-3 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-all font-bold text-sm"},null,512),[[b,a.dateJoined]])])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-[9px] font-black uppercase tracking-widest text-gray-400 mb-2"},"Executive Biography",-1)),p(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=s=>a.bio=s),rows:"4",class:"w-full p-4 bg-gray-50 border-none outline-none focus:ring-1 focus:ring-black transition-all font-medium text-sm leading-relaxed"},null,512),[[b,a.bio]])])]),e("section",Ge,[t[34]||(t[34]=e("h3",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-gray-300 border-b border-gray-100 pb-2"},"Sector Responsibilities",-1)),e("div",He,[p(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>w.value=s),onKeyup:L(U,["enter"]),type:"text",placeholder:"SPECIFY DUTY...",class:"flex-1 px-4 py-3 bg-gray-50 border-none text-[10px] font-black tracking-widest uppercase outline-none focus:ring-1 focus:ring-black"},null,544),[[b,w.value]]),e("button",{onClick:U,class:"px-8 bg-black text-white text-[9px] font-black uppercase tracking-widest"},"SPECIFY")]),e("div",Je,[(i(!0),d(S,null,I(a.duties,(s,f)=>(i(),d("span",{key:f,class:"pl-4 pr-1 py-1.5 bg-gray-50 border border-gray-100 rounded-sm text-[10px] font-black flex items-center gap-3 italic"},[A(x(s.toUpperCase())+" ",1),e("button",{onClick:W=>Y(f),class:"p-1 hover:text-red-500 transition-colors"},[...t[33]||(t[33]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ke)]))),128))])])])]),_:1},8,["show","title"]),h(z,{show:M.value,title:"DELETE PERSONNEL",message:"Are you sure you want to remove this member from the board? This operation is permanent.",loading:B.value,onClose:t[14]||(t[14]=s=>M.value=!1),onConfirm:O},null,8,["show","loading"])])}}});export{at as default};
